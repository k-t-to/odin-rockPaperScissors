<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <div id='topText'>
  </div>

</body>

<script>
  function playRound() {
    const rpsChoices = ['rock', 'paper', 'scissors'];

    // Get user entry and compare to array of choices
    const userEntry = prompt("Enter rock, paper, or scissors").toLowerCase().trim();
    const userIndex = rpsChoices.indexOf(userEntry);

    let outcome;
    if (userIndex < 0) {
      alert('Invalid Entry');
      outcome = playRound();
    } else {
      // Get random choice from computer
      const computerIndex = Math.floor(Math.random() * 3);
      const computerSelection = rpsChoices[computerIndex];

      // Compare choices and save outcome
      if (userEntry == computerSelection) {
        outcome = 'tie';
      } else if (userEntry == 'rock') {
        outcome = computerSelection == 'scissors' ? 'win' : 'lose';
      } else if (userEntry == 'paper') {
        outcome = computerSelection == 'rock' ? 'win' : 'lose';
      } else if (userEntry == 'scissors') {
        outcome = computerSelection == 'paper' ? 'win' : 'lose';
      }
    }
    return outcome;
  }

  function game(n = 5) {
    const scoreTable = {
      "win": 1,
      "tie": 0,
      "lose": -1
    };

    // Loop through games and track outcomes
    let outcomes = [];
    let score = 0;
    for (let i = 0; i < n; i++) {
      let outcome = playRound();
      outcomes.push(outcome);
      score = score + (scoreTable[outcome]);
    }

    // Print results to page
    const msg = score > 0
      ? 'You win!'
      : score == 0
        ? 'A tie!'
        : 'You lose!';

    const para1 = document.createElement("p");
    const indivOut = document.createTextNode("Round Outcomes: " + outcomes);
    para1.appendChild(indivOut);

    const para2 = document.createElement("p");
    const allOut = document.createTextNode("Overall: " + msg);
    para2.appendChild(allOut);

    const element = document.getElementById('topText');
    element.appendChild(para1);
    element.appendChild(para2);
  }

  game();

</script>

</html>